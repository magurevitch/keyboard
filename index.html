<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="static/styles.css">
    <title>Keyboard</title>
  </head>
  <body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.7/Tone.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="src/utils.js"></script>
    <script src="src/draw.js"></script>
    <script src="src/tone.js"></script>
    <script src="src/main.js"></script>
    <canvas height="120" width="800" id="temperment"></canvas>
    <canvas height="120" width="800" id="keyboard"></canvas>
    <div>
      Base note:
      <input type="number" min="200" max="600" value="350" id="base">
    </div>
    <div>
      Snap to the nearest
      <input type="number" min="0" max="200" value="10" id="snap">
      <select id="snap-type">
          <option value="cents">cents</option>
          <option value="guideline">guideline</option>
      </select>
      <button id="snap-all">Snap all</button>
    </div>
    <div>
      <button id="add-guideline">Add</button>
      <select id="add-object">
          <option value="guideline">guideline</option>
          <option value="note">note</option>
      </select>
      at
      <input type="number" id="guideline" value="1.5">
      <input type="number" id="guideline-denom" value="1">
      <select id="guideline-type">
          <option value="ratio">as a ratio with base</option>
          <option value="cents">cents above base</option>
          <option value="hz">hertz</option>
      </select>
    </div>
    <div>
      <button id="make-temperment">Make temperment</button>
      <select id="temperment-type">
          <option value="tet">equal temperment</option>
          <option value="pythagorean">pythagorean tuning</option>
      </select>
      <input type="number" min="2" max="60" value="12" id="scale-steps">
      <div id="temperment-ratio" hidden>
        with ratio
        <input type="number" id="pythag-top" value="1.5">
        <input type="number" id="pythag-bottom" value="1">
      </div>
    </div>
    <div>
      <button id="make-mode">Make mode</button>
      on scale degree
      <input type="number" min="1" max="60" value="1" id="mode-degree">
    </div>
    <button id="play">Play</button>
    <div class="flex-container">
      <div id="envelope" class="flex-child">
        <canvas height="120" width="400" id="envelope-canvas"></canvas>
      </div>
      <div class="flex-child">
        <canvas height="120" width="400" id="oscillator"></canvas>
        <select id="oscillator-type">
            <option value="triangle">triangle</option>
            <option value="square">square</option>
            <option value="sine">sine</option>
            <option value="sawtooth">sawtooth</option>
            <option value="partials">partials</option>
        </select>
        <div id="harmonics" hidden>
          <div>
            Show <input type="number" id="harmonics-periods" value="4" min="2" max="5"> rows
          </div>
          <div>
            Odd harmonics <input id="odd-harmonics" value=1>
          </div>
          <div>
            Even harmonics <input id="even-harmonics" value=1>
          </div>
        </div>
        <table id="partials"></table>
      </div>
    </div>
  </body>
</html>
